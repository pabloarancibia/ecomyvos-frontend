(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0OC1":function(t,e,n){"use strict";n.r(e),n.d(e,"AdministracionModule",(function(){return A}));var o=n("ofXK"),c=n("tyNb"),i=n("UTcu"),a=n("fXoL");let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Hb({type:t,selectors:[["app-perfil"]],decls:2,vars:0,template:function(t,e){1&t&&(a.Tb(0,"p"),a.Gc(1,"perfil works!"),a.Sb())},styles:[""]}),t})();var l=n("+0xr"),s=n("ESM5"),b=n("AytR"),m=n("tk/3");let u=(()=>{class t{constructor(t){this._http=t,this.URL=b.a.apiUrl}getRoles(){return this._http.get(this.URL+"roles").toPromise().then(t=>t)}}return t.\u0275fac=function(e){return new(e||t)(a.Xb(m.b))},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=n("kmnG"),d=n("qFsG"),p=n("d3UM"),h=n("FKr1"),S=n("bTqV");function g(t,e){1&t&&(a.Tb(0,"th",18),a.Gc(1," No. "),a.Sb())}function w(t,e){if(1&t&&(a.Tb(0,"td",19),a.Gc(1),a.Sb()),2&t){const t=e.$implicit;a.Bb(1),a.Ic(" ",t.id," ")}}function C(t,e){1&t&&(a.Tb(0,"th",18),a.Gc(1," Nombre "),a.Sb())}function T(t,e){if(1&t&&(a.Tb(0,"td",19),a.Gc(1),a.Sb()),2&t){const t=e.$implicit;a.Bb(1),a.Ic(" ",t.Persona.nombre," ")}}function R(t,e){1&t&&(a.Tb(0,"th",18),a.Gc(1," Apellido "),a.Sb())}function v(t,e){if(1&t&&(a.Tb(0,"td",19),a.Gc(1),a.Sb()),2&t){const t=e.$implicit;a.Bb(1),a.Ic(" ",t.Persona.apellido," ")}}function E(t,e){1&t&&(a.Tb(0,"th",18),a.Gc(1," Cuil "),a.Sb())}function D(t,e){if(1&t&&(a.Tb(0,"td",19),a.Gc(1),a.Sb()),2&t){const t=e.$implicit;a.Bb(1),a.Ic(" ",t.Persona.cuil," ")}}function G(t,e){1&t&&(a.Tb(0,"th",18),a.Gc(1," Usuario "),a.Sb())}function y(t,e){if(1&t&&(a.Tb(0,"td",19),a.Gc(1),a.Sb()),2&t){const t=e.$implicit;a.Bb(1),a.Ic(" ",t.nombreusuario," ")}}function I(t,e){1&t&&(a.Tb(0,"th",18),a.Gc(1," Rol "),a.Sb())}function O(t,e){if(1&t&&(a.Tb(0,"td",19),a.Gc(1),a.Sb()),2&t){const t=e.$implicit;a.Bb(1),a.Ic(" ",t.Rol.nombrerol," ")}}function U(t,e){1&t&&(a.Tb(0,"th",18),a.Gc(1," Accion "),a.Sb())}function k(t,e){if(1&t&&(a.Tb(0,"mat-option",24),a.Gc(1),a.Sb()),2&t){const t=e.$implicit;a.mc("value",t.nombrerol),a.Bb(1),a.Ic(" ",t.nombrerol," ")}}function B(t,e){if(1&t){const t=a.Ub();a.Tb(0,"td",20),a.Tb(1,"mat-form-field",21),a.Tb(2,"mat-label"),a.Gc(3,"Cambiar Rol"),a.Sb(),a.Tb(4,"mat-select",22),a.bc("selectionChange",(function(n){a.wc(t);const o=e.$implicit;return a.ec().asignarRol(o.id,n.value)})),a.Ec(5,k,2,2,"mat-option",23),a.Sb(),a.Sb(),a.Sb()}if(2&t){const t=a.ec();a.Bb(5),a.mc("ngForOf",t.roles)}}function P(t,e){1&t&&(a.Tb(0,"th",18),a.Gc(1," Eliminar "),a.Sb())}function M(t,e){if(1&t){const t=a.Ub();a.Tb(0,"td",19),a.Tb(1,"button",25),a.bc("click",(function(){a.wc(t);const n=e.$implicit;return a.ec().eliminarUsuario(n.id)})),a.Gc(2," Eliminar "),a.Sb(),a.Sb()}}function $(t,e){1&t&&a.Ob(0,"tr",26)}function _(t,e){1&t&&a.Ob(0,"tr",27)}function F(t,e){if(1&t&&(a.Tb(0,"tr",28),a.Tb(1,"td",29),a.Gc(2),a.Sb(),a.Sb()),2&t){a.ec();const t=a.tc(7);a.Bb(2),a.Ic(' Sin datos para nombre de usuario = "',t.value,'" ')}}const N=[{path:"/",component:r},{path:"perfil",component:r},{path:"usuarios",component:(()=>{class t{constructor(t,e,n){this.usuariosService=t,this.rolesService=e,this.changeDetectorRef=n,this.displayedColumns=["id","nombre","apellido","cuil","nombreusuario","nombrerol","accion","eliminar"],this.dataSource=new l.l}ngOnInit(){this.getDatos(),this.getRoles()}getDatos(){this.usuariosService.getUsPerRol().then(t=>{this.dataSource.data=t,this.changeDetectorRef.detectChanges()})}getRoles(){this.rolesService.getRoles().then(t=>{this.roles=t})}asignarRol(t,e){this.usuariosService.asignarRol({usuarioId:t,nombrerol:e}).then(t=>this.getDatos())}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}eliminarUsuario(t){confirm("Est\xe1 seguro que desea eliminar el usuario "+t+" (esta acci\xf3n no se puede revertir) ")&&this.usuariosService.modificarUsuario({usuarioId:t,estado:"eliminado"}).then(t=>this.getDatos())}}return t.\u0275fac=function(e){return new(e||t)(a.Nb(s.a),a.Nb(u),a.Nb(a.h))},t.\u0275cmp=a.Hb({type:t,selectors:[["app-usuarios"]],decls:36,vars:3,consts:[[1,"content"],["matInput","","placeholder","",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","apellido"],["matColumnDef","cuil"],["matColumnDef","nombreusuario"],["matColumnDef","nombrerol"],["matColumnDef","accion"],["class","accion","mat-cell","",4,"matCellDef"],["matColumnDef","eliminar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"accion"],["appearance","fill"],["disableRipple","","formControlName","rol",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(a.Tb(0,"div",0),a.Tb(1,"h1"),a.Gc(2,"Usuarios"),a.Sb(),a.Tb(3,"mat-form-field"),a.Tb(4,"mat-label"),a.Gc(5,"Filtrar por nombre de usuario"),a.Sb(),a.Tb(6,"input",1,2),a.bc("keyup",(function(t){return e.applyFilter(t)})),a.Sb(),a.Sb(),a.Tb(8,"table",3),a.Rb(9,4),a.Ec(10,g,2,0,"th",5),a.Ec(11,w,2,1,"td",6),a.Qb(),a.Rb(12,7),a.Ec(13,C,2,0,"th",5),a.Ec(14,T,2,1,"td",6),a.Qb(),a.Rb(15,8),a.Ec(16,R,2,0,"th",5),a.Ec(17,v,2,1,"td",6),a.Qb(),a.Rb(18,9),a.Ec(19,E,2,0,"th",5),a.Ec(20,D,2,1,"td",6),a.Qb(),a.Rb(21,10),a.Ec(22,G,2,0,"th",5),a.Ec(23,y,2,1,"td",6),a.Qb(),a.Rb(24,11),a.Ec(25,I,2,0,"th",5),a.Ec(26,O,2,1,"td",6),a.Qb(),a.Rb(27,12),a.Ec(28,U,2,0,"th",5),a.Ec(29,B,6,1,"td",13),a.Qb(),a.Rb(30,14),a.Ec(31,P,2,0,"th",5),a.Ec(32,M,3,0,"td",6),a.Qb(),a.Ec(33,$,1,0,"tr",15),a.Ec(34,_,1,0,"tr",16),a.Ec(35,F,3,1,"tr",17),a.Sb(),a.Sb()),2&t&&(a.Bb(8),a.mc("dataSource",e.dataSource),a.Bb(25),a.mc("matHeaderRowDef",e.displayedColumns),a.Bb(1),a.mc("matRowDefColumns",e.displayedColumns))},directives:[f.c,f.f,d.b,l.k,l.c,l.e,l.b,l.g,l.j,l.h,l.d,l.a,p.a,o.k,h.m,S.b,l.f,l.i],styles:[".content[_ngcontent-%COMP%]{display:grid;grid-template-columns:80%;justify-content:center;margin:3em 0}.content[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.accion[_ngcontent-%COMP%]{width:10%}.mat-mini-fab.mat-primary[_ngcontent-%COMP%]{margin-right:1em}.mat-cell[_ngcontent-%COMP%]{padding:15px}"]}),t})(),canActivate:[i.a],data:{role:"admin"}}];let Q=(()=>{class t{}return t.\u0275mod=a.Lb({type:t}),t.\u0275inj=a.Kb({factory:function(e){return new(e||t)},imports:[[c.g.forChild(N)],c.g]}),t})();var L=n("hctd");let A=(()=>{class t{}return t.\u0275mod=a.Lb({type:t}),t.\u0275inj=a.Kb({factory:function(e){return new(e||t)},imports:[[o.c,Q,L.a]]}),t})()}}]);