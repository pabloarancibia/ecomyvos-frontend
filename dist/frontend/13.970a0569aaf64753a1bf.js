(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{QjFY:function(t,e,a){"use strict";a.r(e),a.d(e,"GchartsModule",(function(){return B}));var s=a("ofXK"),n=a("XNiG"),o=a("LRne"),i=a("HDdC"),c=(a("jtHE"),a("itXk"),a("xgIS"),a("fXoL")),r=a("5+tZ"),l=a("lJxs"),p=a("eIep");a("Kj3r"),a("mrSG");const d=new c.s("GOOGLE_CHARTS_CONFIG"),h=new c.s("GOOGLE_CHARTS_LAZY_CONFIG",{providedIn:"root",factory:()=>{const t=Object(c.W)(d,c.r.Optional);return Object(o.a)(Object.assign(Object.assign({},{version:"current",safeMode:!1}),t||{}))}});let g=(()=>{class t{constructor(t,e,a){this.zone=t,this.localeId=e,this.config$=a,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new n.a}isGoogleChartsAvailable(){return"undefined"!=typeof google&&void 0!==google.charts}loadChartPackages(...t){return this.loadGoogleCharts().pipe(Object(r.a)(()=>this.config$),Object(l.a)(t=>Object.assign(Object.assign({},{version:"current",safeMode:!1}),t||{})),Object(p.a)(e=>new i.a(a=>{google.charts.load(e.version,{packages:t,language:this.localeId,mapsApiKey:e.mapsApiKey,safeMode:e.safeMode}),google.charts.setOnLoadCallback(()=>{this.zone.run(()=>{a.next(),a.complete()})})})))}loadGoogleCharts(){if(this.isGoogleChartsAvailable())return Object(o.a)(null);if(!this.isLoadingGoogleCharts()){const t=this.createGoogleChartsScript();t.onload=()=>{this.zone.run(()=>{this.scriptLoadSubject.next(),this.scriptLoadSubject.complete()})},t.onerror=()=>{this.zone.run(()=>{console.error("Failed to load the google charts script!"),this.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}isLoadingGoogleCharts(){return null!=this.getGoogleChartsScript()}getGoogleChartsScript(){return Array.from(document.getElementsByTagName("script")).find(t=>t.src===this.scriptSource)}createGoogleChartsScript(){const t=document.createElement("script");return t.type="text/javascript",t.src=this.scriptSource,t.async=!0,document.getElementsByTagName("head")[0].appendChild(t),t}}return t.\u0275fac=function(e){return new(e||t)(c.Xb(c.B),c.Xb(c.w),c.Xb(h))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac}),t})(),u=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:d,useValue:e}]}}}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},providers:[g]}),t})();var b=a("tyNb"),m=a("UTcu"),f=a("0MNC"),C=a("40+f"),w=a("Wp6s"),v=a("bTqV"),O=a("STbY"),y=a("NFeN"),S=a("Pv07");let A=(()=>{class t{constructor(t){this.asistenciasService=t,this.capsAsis=[]}ngOnInit(){google.charts.load("current",{packages:["corechart"]}),this.getCapClasesAsis()}getCapClasesAsis(){try{this.asistenciasService.getPresentes().then(t=>{this.capsAsis=t,google.charts.setOnLoadCallback(this.drawCapAsis.bind(this))})}catch(t){}}drawCapAsis(){var t=new google.visualization.DataTable;t.addColumn("string","Capacitaci\xf3n"),t.addColumn("number","Asistencias");for(let e in this.capsAsis)t.addRows([[{v:this.capsAsis[e].capacitacionId.toString(),f:"Id: "+this.capsAsis[e].capacitacionId.toString()},this.capsAsis[e].asistencias]]);new google.visualization.ColumnChart(document.getElementById("chart_div")).draw(t,{hAxis:{title:"Capacitaciones"},vAxis:{title:"Asistencias"}})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(S.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-bar-cap-asis"]],decls:1,vars:0,consts:[["id","chart_div",1,"chart"]],template:function(t,e){1&t&&c.Ob(0,"div",0)},styles:[".content[_ngcontent-%COMP%]{display:grid;grid-template-columns:80%;justify-content:center;width:100%;margin:3em 0}.chart[_ngcontent-%COMP%]{height:100%}"]}),t})();var T=a("wd/R"),G=a("fJA6");let j=(()=>{class t{constructor(t){this.capacitacionesService=t,this.capsAsis=[],this.capsFechas=[]}ngOnInit(){google.charts.load("current",{packages:["corechart"]}),google.charts.load("current",{packages:["timeline"]}),this.getCapFechasHoras()}getCapFechasHoras(){try{this.capacitacionesService.getCapacitacionesfechas().then(t=>{this.capsFechas=t,google.charts.setOnLoadCallback(this.drawCapTimeline.bind(this))})}catch(t){}}drawCapTimeline(){var t=document.getElementById("capsTimeline"),e=new google.visualization.Timeline(t),a=new google.visualization.DataTable;a.addColumn({type:"string",id:"Capacitaciones"}),a.addColumn({type:"date",id:"Start"}),a.addColumn({type:"date",id:"End"});for(let s in this.capsFechas){let t=T(this.capsFechas[s].fechainicio).format("YYYY-MM-DD"),e=T(this.capsFechas[s].fechafin).format("YYYY-MM-DD");a.addRows([[this.capsFechas[s].nombre.toString(),new Date(t+","+this.capsFechas[s].horainicio),new Date(e+","+this.capsFechas[s].horafin)]])}e.draw(a,{title:"Linea de tiempo de capacitaciones",width:1400,height:400})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(G.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-timeline-caps"]],decls:2,vars:0,consts:[[1,"content"],["id","capsTimeline"]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Ob(1,"div",1),c.Sb())},styles:[".content[_ngcontent-%COMP%]{display:grid;grid-template-columns:80%;justify-content:center;width:100%;margin:3em 0}"]}),t})();var I=a("AytR"),L=a("tk/3");let F=(()=>{class t{constructor(t){this._http=t,this.URL=I.a.apiUrl}getCantAlumnosPorGenero(){return this._http.get(this.URL+"cantalumnosgenero").toPromise().then(t=>t)}}return t.\u0275fac=function(e){return new(e||t)(c.Xb(L.b))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),M=(()=>{class t{constructor(t){this.alumnosservice=t,this.datos=[]}ngOnInit(){this.traerDatos(),google.charts.load("current",{packages:["corechart"]})}traerDatos(){this.alumnosservice.getCantAlumnosPorGenero().then(t=>{this.datos=t,google.charts.setOnLoadCallback(this.drawChart.bind(this))})}drawChart(){var t=new google.visualization.DataTable;t.addColumn("string","G\xe9nero"),t.addColumn("number","Cantidad");for(let e in this.datos)t.addRows([[this.datos[e].genero,this.datos[e].count]]);new google.visualization.PieChart(document.getElementById("piechart_3d")).draw(t,{is3D:!0})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(F))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-pie-generos"]],decls:1,vars:0,consts:[["id","piechart_3d",2,"width","100%","height","100%"]],template:function(t,e){1&t&&c.Ob(0,"div",0)},styles:[""]}),t})();function k(t,e){1&t&&(c.Rb(0),c.Ob(1,"app-bar-cap-asis"),c.Qb())}function _(t,e){1&t&&(c.Rb(0),c.Ob(1,"app-timeline-caps"),c.Qb())}function x(t,e){1&t&&(c.Rb(0),c.Ob(1,"app-pie-generos"),c.Qb())}function E(t,e){if(1&t&&(c.Tb(0,"mat-grid-tile",3),c.Tb(1,"mat-card",4),c.Tb(2,"mat-card-header"),c.Tb(3,"mat-card-title"),c.Gc(4),c.Tb(5,"button",5),c.Tb(6,"mat-icon"),c.Gc(7,"more_vert"),c.Sb(),c.Sb(),c.Tb(8,"mat-menu",6,7),c.Tb(10,"button",8),c.Gc(11,"Expand"),c.Sb(),c.Tb(12,"button",8),c.Gc(13,"Remove"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(14,"mat-card-content",9),c.Ec(15,k,2,0,"ng-container",10),c.Ec(16,_,2,0,"ng-container",10),c.Ec(17,x,2,0,"ng-container",10),c.Sb(),c.Sb(),c.Sb()),2&t){const t=e.$implicit,a=c.tc(9);c.mc("colspan",t.cols)("rowspan",t.rows),c.Bb(4),c.Ic(" ",t.title," "),c.Bb(1),c.mc("matMenuTriggerFor",a),c.Bb(10),c.mc("ngIf","app-bar-cap-asis"==t.content),c.Bb(1),c.mc("ngIf","app-timeline-caps"==t.content),c.Bb(1),c.mc("ngIf","app-pie-generos"==t.content)}}let D=(()=>{class t{constructor(t){this.breakpointObserver=t,this.cards=this.breakpointObserver.observe(f.b.Handset).pipe(Object(l.a)(({matches:t})=>t?[{title:"Asistencias por Capacitaci\xf3n",cols:1,rows:1,content:"app-bar-cap-asis"},{title:"Card 2",cols:1,rows:1,content:"app-pie-generos"},{title:"Duraci\xf3n Capacitaciones",cols:2,rows:1,content:"app-timeline-caps"},{title:"Card 4",cols:1,rows:1}]:[{title:"Asistencias por Capacitaci\xf3n",cols:1,rows:2,content:"app-bar-cap-asis"},{title:"Alumnos por G\xe9nero",cols:1,rows:2,content:"app-pie-generos"},{title:"Duraci\xf3n Capacitaciones",cols:2,rows:1,content:"app-timeline-caps"},{title:"Card 4",cols:2,rows:1}]))}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(f.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-dash"]],decls:4,vars:3,consts:[[1,"grid-container"],["cols","2","rowHeight","350px"],[3,"colspan","rowspan",4,"ngFor","ngForOf"],[3,"colspan","rowspan"],[1,"dashboard-card"],["mat-icon-button","","aria-label","Toggle menu",1,"more-button",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item",""],[1,"dashboard-card-content"],[4,"ngIf"]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Tb(1,"mat-grid-list",1),c.Ec(2,E,18,7,"mat-grid-tile",2),c.fc(3,"async"),c.Sb(),c.Sb()),2&t&&(c.Bb(2),c.mc("ngForOf",c.gc(3,1,e.cards)))},directives:[C.a,s.k,C.c,w.a,w.d,w.f,v.b,O.c,y.a,O.d,O.a,w.c,s.l,A,j,M],pipes:[s.b],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.dashboard-card[_ngcontent-%COMP%]{position:absolute;top:15px;left:15px;right:15px;bottom:15px}.more-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px}.dashboard-card-content[_ngcontent-%COMP%]{text-align:center;height:80%}"]}),t})();const P=[{path:"/",component:D,canActivate:[m.a],data:{role:["admin","instructor"]}},{path:"dash",component:D,canActivate:[m.a],data:{role:["admin","instructor"]}}];let R=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[b.g.forChild(P)],b.g]}),t})();var N=a("hctd");let B=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[s.c,R,u,N.a]]}),t})()}}]);